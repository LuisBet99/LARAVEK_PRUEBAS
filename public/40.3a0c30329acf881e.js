"use strict";(self.webpackChunkItslTutorias=self.webpackChunkItslTutorias||[]).push([[40],{40:(he,M,f)=>{f.r(M),f.d(M,{CoordinadorTutoriasModule:()=>ge});var b=f(6814),C=f(2865),e=f(9468),w=f(7621),N=f(76),j=f(2296),k=f(5940),P=f(2651);function U(n,s){if(1&n&&(e.TgZ(0,"div",36),e._UZ(1,"mat-progress-spinner",37),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("color",o.colorSpinner)("mode","indeterminate")("value",0)}}let F=(()=>{class n{constructor(o,t){this.data_usuario=o,this.loginService=t,this.loadinges="false",this.mostrarSidenav=!1,this.colorSpinner="rgb(128, 0, 0)",this.titutloEstructura="",this.titulo="Programa de tutorias",this.loading=!1,this.nombreCompleto="",this.loginService.resetTimer(),window.onload=()=>this.loginService.resetTimer(),window.onmousemove=()=>this.loginService.resetTimer(),window.onmousedown=()=>this.loginService.resetTimer(),window.ontouchstart=()=>this.loginService.resetTimer(),window.onclick=()=>this.loginService.resetTimer(),window.onkeypress=()=>this.loginService.resetTimer()}ngOnInit(){this.loginService.avisos(),this.data_usuario.obtenerDatosLocalStorage(),this.nombreCompleto=this.data_usuario.obtenerNombreCompleto()}activarLoading(o){o.loadSpinner&&o.loadSpinner.subscribe(t=>{this.loadinges=t})}recibirTitulo(o){o.titulo&&o.titulo.subscribe(t=>{this.titulo=t})}salir(){this.loginService.logout()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(w.m),e.Y36(N.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-coordinador-tutorias"]],inputs:{titulo:"titulo",loading:"loading"},decls:69,vars:5,consts:[["class","loading-class",4,"ngIf"],["autosize","",1,"contenedor-sidenav"],["mode","push",1,"sidenav-2"],["drawer",""],[1,"header-content-2"],[1,"item-header","item-header-titulo","item-route-titulo"],[1,"titulo-route"],[1,"item-header","item-header-btn","item-route-btn"],["type","button","mat-button","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-right",2,"color","white","font-size","28px","font-weight","bold"],["fill-rule","evenodd","d","M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"],[1,"main-content-2"],["id","accordionFlushExample",1,"accordion","accordion-flush",2,"margin-top","1px"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseOne","aria-expanded","true","aria-controls","flush-collapseOne",1,"accordion-button","collapsed"],["id","flush-collapseOne","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],["routerLink","ver-generaciones",1,"contenedor-ruta"],[1,"p-titulo-btn"],["routerLink","reporte-mensual",1,"contenedor-ruta"],["routerLink","ver-asignaciones",1,"contenedor-ruta"],["routerLink","ver-avisos",1,"contenedor-ruta"],["type","button",1,"accordion-button","collapsed",3,"click"],[1,"footer-sidenav-2"],[1,"header-content",2,"box-shadow","5px 5px 5px 1px rgba(0, 0, 0, 0.2)"],[1,"item-header","item-header-btn"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-list",2,"color","white","font-size","28px","font-weight","bold"],["fill-rule","evenodd","d","M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"],[1,"item-header","item-header-titulo"],[1,"titulo-header-principal"],[1,"sidenav-content",2,"background-color","rgb(255, 255, 255)"],[1,"main-content"],[1,"router","animate__animated","animate__fadeInDown"],[2,"z-index","1",3,"activate"],[1,"footer-content"],[1,"loading-class"],[1,"loading-class-item",3,"color","mode","value"]],template:function(o,t){if(1&o){const i=e.EpF();e.YNc(0,U,2,3,"div",0),e.TgZ(1,"mat-drawer-container",1)(2,"mat-drawer",2,3)(4,"div",4)(5,"div",5)(6,"p",6),e._uU(7),e.ALo(8,"uppercase"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){e.CHM(i);const r=e.MAs(3);return e.KtG(r.toggle())}),e.O4$(),e.TgZ(11,"svg",9),e._UZ(12,"path",10),e.qZA()()()(),e.kcU(),e.TgZ(13,"div",11)(14,"div",12)(15,"div",13)(16,"h2",14)(17,"button",15),e._uU(18," GENERACIONES "),e.qZA()(),e.TgZ(19,"div",16)(20,"div",17)(21,"div",18)(22,"p",19),e._uU(23,"ASIGNACION DE ALUMNOS"),e.qZA()()()()(),e.TgZ(24,"div",13)(25,"h2",14)(26,"button",15),e._uU(27," REPORTES "),e.qZA()(),e.TgZ(28,"div",16)(29,"div",17)(30,"div",20)(31,"p",19),e._uU(32,"REPORTES MENSUALES"),e.qZA()()()()(),e.TgZ(33,"div",13)(34,"h2",14)(35,"button",15),e._uU(36," ASIGNACIONES "),e.qZA()(),e.TgZ(37,"div",16)(38,"div",17)(39,"div",21)(40,"p",19),e._uU(41,"VER ASIGNACIONES"),e.qZA()()()()(),e.TgZ(42,"div",13)(43,"h2",14)(44,"button",15),e._uU(45," AVISOS "),e.qZA()(),e.TgZ(46,"div",16)(47,"div",17)(48,"div",22)(49,"p",19),e._uU(50,"VER/EDITAR AVISOS"),e.qZA()()()()(),e.TgZ(51,"div",13)(52,"h2",14)(53,"button",23),e.NdJ("click",function(){return t.salir()}),e._uU(54," SALIR "),e.qZA()()()()(),e._UZ(55,"div",24),e.qZA(),e.TgZ(56,"div",25)(57,"div",26)(58,"button",8),e.NdJ("click",function(){e.CHM(i);const r=e.MAs(3);return e.KtG(r.toggle())}),e.O4$(),e.TgZ(59,"svg",27),e._UZ(60,"path",28),e.qZA()()(),e.kcU(),e.TgZ(61,"div",29)(62,"h2",30),e._uU(63),e.qZA()()(),e.TgZ(64,"div",31)(65,"div",32)(66,"div",33)(67,"router-outlet",34),e.NdJ("activate",function(r){return t.recibirTitulo(r)})("activate",function(r){return t.activarLoading(r)}),e.qZA()()()()(),e._UZ(68,"div",35)}2&o&&(e.Q6J("ngIf","true"===t.loadinges),e.xp6(7),e.Oqu(e.lcZ(8,3,t.nombreCompleto)),e.xp6(56),e.Oqu(t.titulo))},dependencies:[b.O5,C.lC,C.rH,j.lW,k.Ou,P.jA,P.kh,b.gd],styles:[".loading-class[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;color:maroon!important;z-index:9999}.loading-class-item[_ngcontent-%COMP%]{width:20%;height:20%;position:fixed;inset:40% 0 0 48%;z-index:9999;color:maroon!important}.accordion[_ngcontent-%COMP%]{width:100%!important;outline:none!important}.accordion[_ngcontent-%COMP%]:before{background-color:#fff!important;box-shadow:none!important;outline:none!important}.accordion[_ngcontent-%COMP%]:after{background-color:#fff!important;box-shadow:none!important;outline:none!important}.accordion-button[_ngcontent-%COMP%]{background-color:#f3d77bc0;box-shadow:none!important;outline:none!important;font-weight:700}.accordion-button[_ngcontent-%COMP%]:hover{background-color:#f5e7bac0!important;box-shadow:2px 1px 89px -29px #f0e417bf!important;-webkit-box-shadow:2px 1px 89px -29px rgba(240,228,23,.75)!important;-moz-box-shadow:2px 1px 89px -29px rgba(240,228,23,.75)!important}.accordion-body[_ngcontent-%COMP%]{padding:2px!important}.mat-h2[_ngcontent-%COMP%], .mat-headline-6[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-h2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-headline-6[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .accordion-header[_ngcontent-%COMP%]{margin:0!important}.p-titulo-btn[_ngcontent-%COMP%]{color:#000;font-size:14px;font-weight:700;width:100%;height:100%;flex-direction:column;display:flex;justify-content:center;text-align:start;margin:0 0 0 10px}.contenedor-ruta[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%;height:70px;cursor:pointer;margin:0}.contenedor-ruta[_ngcontent-%COMP%]:hover, .contenedor-ruta[_ngcontent-%COMP%]   .p-titulo-btn[_ngcontent-%COMP%]:hover{background-color:#f5e7bac0!important}.contenedor-sidenav[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#fff}.sidenav[_ngcontent-%COMP%]{width:300px;background-color:#fff;overflow-x:hidden!important;overflow:hidden!important}.sidenav-2[_ngcontent-%COMP%]{width:300px;background-color:#eef3f8;overflow-x:hidden!important;overflow:hidden!important}.sidenav-content[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;width:100%;background-color:#fff;flex-direction:column;overflow-x:hidden}.header-content[_ngcontent-%COMP%], .header-content-2[_ngcontent-%COMP%]{display:flex;width:100%;height:10%;justify-content:center;align-items:center;flex-direction:row;margin:0;padding:0;overflow-x:hidden;background-color:#b03c3cf1;color:#fff}.footer-content[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;justify-content:end;align-items:center}.item-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.item-header-btn[_ngcontent-%COMP%]{width:5%;justify-content:center}.item-header-titulo[_ngcontent-%COMP%]{width:95%;justify-content:center;text-align:center;margin-right:5px}.item-route-titulo[_ngcontent-%COMP%]{width:60%}.item-route-btn[_ngcontent-%COMP%]{width:40%;justify-content:center}.titulo-route[_ngcontent-%COMP%]{text-align:center;margin:0}.main-content[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:start;align-items:center;flex-direction:column;background-color:#fff}.main-content-2[_ngcontent-%COMP%]{display:flex;width:100%;height:80%;justify-content:start;align-items:center;flex-direction:column;background-color:#eef3f8}.contenedor-ruta-2[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:50%;cursor:pointer;margin:0}.footer-sidenav-2[_ngcontent-%COMP%]{width:100%;height:10%;background-color:#b03c3cf1;display:flex;justify-content:center;align-items:center}.img-footer-sidenav-2[_ngcontent-%COMP%]{width:80px;height:80px}.icono-btn[_ngcontent-%COMP%]{width:40%;height:100%;color:#000}.icon-container[_ngcontent-%COMP%]{margin:0}.footer-content[_ngcontent-%COMP%]{background-color:#fff}.titulo-header-principal[_ngcontent-%COMP%]{margin-right:10px}.router[_ngcontent-%COMP%]{width:100%}"]}),n})();var l=f(95),x=f(6306),D=f(3519),c=f.n(D),A=f(9045);function q(n,s){if(1&n&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&n){const o=s.$implicit;e.s9C("value",o.id),e.xp6(1),e.hij(" ",o.nombre," ")}}function G(n,s){if(1&n&&(e.TgZ(0,"option",13),e._uU(1),e.ALo(2,"uppercase"),e.qZA()),2&n){const o=s.$implicit,t=e.oxw();e.Q6J("value",o.id)("selected",o.id===t.IdcarreraUsuario)("disabled",o.id!==t.carreraSeleccionada),e.xp6(1),e.hij(" ",e.lcZ(2,4,o.nombre)," ")}}function B(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(o);const i=e.oxw(2);return e.KtG(i.generarObjetosDocentesAlumnos())}),e._uU(1,"Guardar Asignacion"),e.qZA()}}function L(n,s){if(1&n&&(e.TgZ(0,"li",28),e._uU(1),e.qZA()),2&n){const o=s.$implicit;e.xp6(1),e.lnq(" ",o.nombre," ",o.apellido_paterno," ",o.apellido_materno," ")}}function z(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"div",22)(1,"div",23)(2,"div",24)(3,"input",25),e.NdJ("change",function(){const a=e.CHM(o).$implicit,r=e.oxw(2);return e.KtG(r.seleccionarDocente(a))}),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"ul",26),e.YNc(6,L,2,3,"li",27),e.qZA()()()}if(2&n){const o=s.$implicit,t=e.oxw(2);e.xp6(4),e.lnq(" DOCENTE: ",o.nombre," ",o.apellido_paterno," ",o.apellido_materno," "),e.xp6(2),e.Q6J("ngForOf",t.asignaciones.get(o))}}function V(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"h2"),e._uU(4,"ASIGNACION DE ALUMNOS"),e.qZA()(),e.TgZ(5,"div",17)(6,"button",18),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.asignarAlumnos())}),e._uU(7,"Asignar Alumnos"),e.qZA(),e.YNc(8,B,2,0,"button",19),e.qZA(),e.TgZ(9,"div",20),e.YNc(10,z,7,4,"div",21),e.qZA()()()}if(2&n){const o=e.oxw();e.xp6(8),e.Q6J("ngIf",o.mostrar_btn_guardar),e.xp6(2),e.Q6J("ngForOf",o.lista_docentes)}}let J=(()=>{class n{constructor(o,t,i,a){this.router=o,this.fb=t,this.api=i,this.data_usuario=a,this.titulo=new e.vpe,this.loadSpinner=new e.vpe,this.mostrarPeriodos=!1,this.fechas_sesion_periodo=[],this.generaciones=[],this.carreras=[],this.nombreGeneracion="",this.IdcarreraUsuario="",this.documentoDictamen="",this.formulario=this.fb.group({periodo:[""],generacion:[""],nombreGeneracion:["",l.kI.required],fechaInicialPrimeraSesion:["",l.kI.required],fechaFinalPrimeraSesion:["",l.kI.required],fechaInicialSegundaSesion:["",l.kI.required],fechaFinalSegundaSesion:["",l.kI.required],fechaInicialTerceraSesion:["",l.kI.required],fechaFinalTerceraSesion:["",l.kI.required]}),this.NombreperiodoSeleccionado="",this.NombregeneracionSeleccionado="",this.lista_alumnos=[],this.lista_docentes=[],this.lista_docentes_seleccionados=[],this.asignaciones=new Map,this.mostrar_btn_guardar=!1,this.asignaciones_objetos=[]}ngOnInit(){this.data_usuario.obtenerDatosLocalStorage(),this.IdcarreraUsuario=this.data_usuario.obteneridCarrera(),console.log("Id de carrera del coordinador de tutorias: ",this.IdcarreraUsuario),this.titulo.emit("ASIGNACION DE ALUMNOS A TUTORES"),this.loadSpinner.emit("true"),this.api.obtenerGeneracionesAlumnosAsignados().pipe((0,x.K)(o=>(this.loadSpinner.emit("false"),o))).subscribe(o=>{this.generaciones=o.data,console.log("Generaciones: ",this.generaciones),this.loadSpinner.emit("false")}),this.loadSpinner.emit("true"),this.api.obtenerCarreras().pipe((0,x.K)(o=>(this.loadSpinner.emit("false"),o))).subscribe(o=>{this.carreras=o.data,console.log("carreras: ",this.carreras),this.loadSpinner.emit("false")})}GeneracionSeleccionado(o){this.mostrar_btn_guardar=!1,this.mostrarPeriodos=!1;const t=o.target.value;console.log("GENERACION seleccionado: ",t),this.formulario.controls.generacion.setValue(t),this.carreraSeleccionada({target:{value:this.IdcarreraUsuario}})}carreraSeleccionada(o){this.mostrar_btn_guardar=!1,this.mostrarPeriodos=!1;const t=o.target.value;let a={id_generacion:this.formulario.controls.generacion.value,id_carrera:t};""!==a.id_generacion&&"SELECCIONA UNA GENERACION"!==a.id_generacion?(console.log("CARRERA SELECCIONADA: ",t),this.loadSpinner.emit("true"),this.api.obtenerAlumnosGeneraciones(a).pipe((0,x.K)(r=>(this.loadSpinner.emit("false"),c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"Ocurrio un error, intentalo de nuevo.",text:"",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",timer:2500}),r))).subscribe(r=>(1===r.codigo&&(this.loadSpinner.emit("false"),this.lista_alumnos=r.data,this.lista_docentes=r.data2,console.log("alumos: ",this.lista_alumnos),console.log("docentes: ",this.lista_docentes),this.mostrarPeriodos=!0),2===r.codigo?(this.loadSpinner.emit("false"),c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"NO existen DOCENTES actualmente que asignar.",text:"",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",timer:2500}),void(this.mostrarPeriodos=!1)):3===r.codigo?(this.loadSpinner.emit("false"),c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"NO existen ALUMNOS actualmente que asignar.",text:"",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",timer:2500}),void(this.mostrarPeriodos=!1)):4===r.codigo?(this.loadSpinner.emit("false"),c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"Ocurrio un error actualmente, intentalo nuevamente.",text:"",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",timer:2500}),void(this.mostrarPeriodos=!1)):void 0))):c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"Selecciona una GENERACION.",text:"",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",timer:2500})}archivoSeleccionado(o,t){const i=o.target.files[0],a=new FileReader;a.readAsDataURL(i),a.onload=()=>{this.documentoDictamen=a.result;const r=this.documentoDictamen.toString().split(",")[1];this.documentoDictamen=r}}convertirMayusculas(o){o.setValue(o.value.toUpperCase())}convertirFecha(o){return new Date(o).toISOString().split("T")[0]}cargarGeneracion(){let o={id_periodo:parseInt(this.formulario.controls.periodo.value.toString()),id_generacion:parseInt(this.formulario.controls.generacion.value.toString()),fechaInicialPrimeraSesion:this.formulario.controls.fechaInicialPrimeraSesion.value,fechaFinalPrimeraSesion:this.formulario.controls.fechaFinalPrimeraSesion.value,fechaInicialSegundaSesion:this.formulario.controls.fechaInicialSegundaSesion.value,fechaFinalSegundaSesion:this.formulario.controls.fechaFinalSegundaSesion.value,fechaInicialTerceraSesion:this.formulario.controls.fechaInicialTerceraSesion.value,fechaFinalTerceraSesion:this.formulario.controls.fechaFinalTerceraSesion.value};console.log("Valor del formulario: ",o),c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:`\xbfEstas seguro de actualizar las fechas para la GENERACION: ${this.nombreGeneracion.toUpperCase()} y el PERIODO: ${this.NombreperiodoSeleccionado}? `,text:"",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",showCancelButton:!0,confirmButtonText:"Continuar",showCloseButton:!0}).then(t=>{t.isConfirmed&&(this.loadSpinner.emit("true"),this.api.actualizarFechasGeneracion(o).pipe((0,x.K)(i=>(this.loadSpinner.emit("false"),c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"Ocurrio un error, intentalo de nuevo.",text:"",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",timer:2500}),i))).subscribe(i=>(this.loadSpinner.emit("false"),1===i.codigo&&(c().fire({icon:"success",iconColor:"rgb(128, 0, 0)",title:"Fechas actualizadas correctamente.",text:"",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",timer:2500}),setTimeout(()=>{window.location.reload()},3e3)),i)))})}seleccionarDocente(o){this.asignaciones=new Map;const t=this.lista_docentes_seleccionados.indexOf(o);-1===t?this.lista_docentes_seleccionados.push(o):this.lista_docentes_seleccionados.splice(t,1),console.log("Lista de docentes seleccionados: ",this.lista_docentes_seleccionados)}asignarAlumnos(){if(this.asignaciones=new Map,this.lista_docentes_seleccionados.length>0){this.mostrar_btn_guardar=!0;const o=this.shuffleArray([...this.lista_docentes_seleccionados]),t=this.shuffleArray([...this.lista_alumnos]),i=Math.floor(t.length/o.length);for(const a of o){const r=t.splice(0,i);this.asignaciones.set(a,r)}for(let a=0;a<t.length;a++){const r=o[a%o.length];this.asignaciones.get(r)?.push(t[a])}}else c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"Selecciona al menos un DOCENTE.",text:"",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",timer:2500})}shuffleArray(o){for(let t=o.length-1;t>0;t--){const i=Math.floor(Math.random()*(t+1));[o[t],o[i]]=[o[i],o[t]]}return o}generarObjetosDocentesAlumnos(){if(0!==this.lista_docentes_seleccionados.length)if(0!==this.asignaciones.size){this.asignaciones_objetos=[];for(const o of this.lista_docentes){const t=o.id,i=o.tutor_id,a=this.asignaciones.get(o)?.map(r=>r.id)||[];this.asignaciones_objetos.push({id_docente:t,id_alumnos:a,id_tutor:i,id_generacion:this.formulario.controls.generacion.value})}this.asignaciones_objetos=this.asignaciones_objetos.filter(o=>o.id_alumnos.length>0),c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"\xbfEstas seguro de crear la asignacion?",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continuar",cancelButtonText:"Cancelar",showCancelButton:!0}).then(o=>{o.isConfirmed?(this.loadSpinner.emit("true"),console.log("Data a enviar: ",this.asignaciones_objetos),this.api.asignacionAlumnosTutorados(this.asignaciones_objetos).pipe((0,x.K)(t=>(this.loadSpinner.emit("false"),c().fire({icon:"error",iconColor:"rgb(128, 0, 0)",title:"Ocurrio un problema con la conexion.",text:"Intentalo nuevamente.",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,timer:2500}),setTimeout(()=>{window.location.reload()},3e3),t))).subscribe(t=>{this.loadSpinner.emit("false"),1===t.codigo&&(c().fire({icon:"success",iconColor:"rgb(128, 0, 0)",title:"Asignaciones almacenadas correctamente.",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,timer:2500}),setTimeout(()=>{window.location.reload()},3e3)),2===t.codigo&&(c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"NO se puede generar la asignacion.",text:`${t.mensaje}`,footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,timer:2500}),setTimeout(()=>{window.location.reload()},3e3))})):window.location.reload()})}else c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"Es necesario que hagas la asignacion de alumnos.",text:"",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continuar",cancelButtonText:"Cancelar"});else c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"Es necesario que selecciones al menos un DOCENTE y se vuelva a crear la asignacion de alumnos.",text:"",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continuar",cancelButtonText:"Cancelar"})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(C.F0),e.Y36(l.qu),e.Y36(A.s),e.Y36(w.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ver-generaciones"]],outputs:{titulo:"titulo",loadSpinner:"loadSpinner"},decls:19,vars:4,consts:[[1,"contenedor-principal"],[1,"formulario-comisiones"],[1,"contenedor-form",3,"formGroup"],[1,"contenedores-form","contenedor-inputs"],[1,"form-floating",2,"margin","0px 10px 20px 10px"],["id","floatingSelect12",1,"form-select",3,"change"],["selected",""],[3,"value",4,"ngFor","ngForOf"],["for","floatingSelect12"],["id","floatingSelect12",1,"form-select"],[3,"value","selected","disabled",4,"ngFor","ngForOf"],["class","contenedor-fechas-principal",4,"ngIf"],[3,"value"],[3,"value","selected","disabled"],[1,"contenedor-fechas-principal"],[1,"container","mt-5"],[1,"container-titulo",2,"display","flex","justify-content","center","align-items","center","flex-direction","row","width","100%"],[1,"container-btn-asignaciones",2,"display","flex","justify-content","space-around","align-items","center","flex-direction","row","width","100%"],[1,"btn","btn-ediles","mt-3",3,"click"],["class","btn btn-ediles mt-3",3,"click",4,"ngIf"],[1,"row","mt-3"],["class","col-md-6 mt-3",4,"ngFor","ngForOf"],[1,"col-md-6","mt-3"],[1,"card"],[1,"card-header",2,"font-weight","bold"],["type","checkbox",3,"change"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"select",5),e.NdJ("change",function(a){return t.GeneracionSeleccionado(a)}),e.TgZ(6,"option",6),e._uU(7,"SELECCIONA UNA GENERACION"),e.qZA(),e.YNc(8,q,2,2,"option",7),e.qZA(),e.TgZ(9,"label",8),e._uU(10,"SELECCIONA UNA GENERACION"),e.qZA()(),e._UZ(11,"br"),e.TgZ(12,"div",4)(13,"select",9),e.YNc(14,G,3,6,"option",10),e.qZA(),e.TgZ(15,"label",8),e._uU(16,"SELECCIONA UNA CARRERA"),e.qZA()(),e._UZ(17,"br"),e.YNc(18,V,11,2,"div",11),e.qZA()()()()),2&o&&(e.xp6(2),e.Q6J("formGroup",t.formulario),e.xp6(6),e.Q6J("ngForOf",t.generaciones),e.xp6(6),e.Q6J("ngForOf",t.carreras),e.xp6(4),e.Q6J("ngIf",t.mostrarPeriodos))},dependencies:[b.sg,b.O5,l._Y,l.YN,l.Kr,l.JL,l.sg,b.gd],styles:[".contenedor-img[_ngcontent-%COMP%]{border-radius:30px}.foto-edil-img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;box-shadow:2px 2px 5px #24c524}.foto-edil[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin-top:50px;margin-bottom:50px}.boton-flotante[_ngcontent-%COMP%]{position:relative;top:45px;left:80px;font-size:18px;font-weight:700;margin-right:10px}.boton-flotante-input[_ngcontent-%COMP%]{position:relative;top:0;left:80px;font-size:18px;font-weight:700;margin-right:10px}.boton-flotante[for=file-input][_ngcontent-%COMP%]{display:inline-block;background-color:#24c524;color:#fff;padding:6px 12px;cursor:pointer;font-weight:400;text-align:center;white-space:nowrap;border-radius:30px}.boton-flotante[_ngcontent-%COMP%]:hover{font-size:20px}.boton-flotante-pdf[for=file-input][_ngcontent-%COMP%]{display:inline-block;background-color:#24c524;color:#fff;padding:6px 12px;cursor:pointer;font-weight:400;text-align:center;white-space:nowrap;border-radius:30px}.contenido-reglamento[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.btn-ediles[_ngcontent-%COMP%]{width:250px;background-color:maroon;color:#fff;font-weight:700;border-radius:18px;font-size:17px;margin-left:10px}.btn-ediles[_ngcontent-%COMP%]:hover{background-color:#a84848}.container-input-flot[_ngcontent-%COMP%]{display:flex;flex-direction:row}.boton-flotante-input[_ngcontent-%COMP%]{position:relative;top:0;left:80px;font-size:15px;font-weight:700;margin-right:10px}.btn-input-flotante[_ngcontent-%COMP%]{background-color:#24c524;color:#fff;font-weight:700;font-size:15px;margin-left:10px}.btn-input-flotante[_ngcontent-%COMP%]:hover{background-color:#9b3939}.contenedor-botones[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;margin-top:100px;margin-bottom:20px;justify-content:center;align-items:center}.contenedor-navbar[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#fff;z-index:3}.contenedor-principal[_ngcontent-%COMP%]{width:100%;background-color:#fff}.formulario-comisiones[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.contenedor-fornm[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:start;flex-direction:column}.contenedores-form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:100px;margin-bottom:20px;flex-direction:column}.form-group-2[_ngcontent-%COMP%], .form-group-full[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;margin:20px}.inputs-box[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:row}.toolbar-modal[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.titulo-modal-sesiones[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin-bottom:60px}.container-modal[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.modal-reglamento[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:space-evenly;align-items:center;flex-direction:column}.ion-padding[_ngcontent-%COMP%]{margin-bottom:20px}.container-input-sesiones[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;flex-direction:column;margin-bottom:20px}.input-btn-agregar-sesion[_ngcontent-%COMP%]{margin-bottom:30px}.input-date-sesiones[_ngcontent-%COMP%]{width:100%;margin-top:5px}.input-documento-sesion[_ngcontent-%COMP%]{margin-bottom:50px}.label-verde[_ngcontent-%COMP%]{font-size:16px;color:maroon;font-weight:700;margin-bottom:2px;text-align:center;text-transform:uppercase}.titulo-sesiones[_ngcontent-%COMP%]{font-size:22px}.contenedor-titulo-principal[_ngcontent-%COMP%]{width:100%;margin-top:100px}.titulo-documentos[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.contenedor-fechas-principal[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:row}.contenedor-fechas-periodos[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.contenedores-pares[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:row;margin:30px 0}.form-floating[_ngcontent-%COMP%]{width:100%}"]}),n})();var T=f(6512),y=f(4178),E=f(7574),O=f(8282),_=f(1486),Y=f(4456),S=f.n(Y),R=f(9846),Z=f(7954),I=f(5756);const K=["myCanvas"];function $(n,s){if(1&n&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&n){const o=s.$implicit;e.s9C("value",o.id),e.xp6(1),e.hij(" ",o.nombre," ")}}function Q(n,s){if(1&n&&(e.TgZ(0,"option",12),e._uU(1),e.ALo(2,"uppercase"),e.qZA()),2&n){const o=s.$implicit;e.s9C("value",o.nombre),e.xp6(1),e.hij(" ",e.lcZ(2,2,o.nombre)," ")}}function H(n,s){if(1&n&&(e.TgZ(0,"option",12),e._uU(1),e.ALo(2,"uppercase"),e.qZA()),2&n){const o=s.$implicit;e.s9C("value",o.valor),e.xp6(1),e.hij(" ",e.lcZ(2,2,o.nombre)," ")}}function W(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.generarReporte())}),e._uU(1," GENERAR REPORTES "),e.qZA()}}function X(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.downloadDivAsPDF())}),e._uU(1," DESCARGAR REPORTE "),e.qZA()}}function ee(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",18),e._uU(3),e.qZA(),e.TgZ(4,"td",19),e._uU(5),e.qZA(),e.TgZ(6,"td",19),e._uU(7),e.qZA(),e.TgZ(8,"td",19),e._uU(9),e.qZA(),e.TgZ(10,"td",19),e._uU(11),e.qZA(),e.TgZ(12,"td",19),e._uU(13),e.qZA(),e.TgZ(14,"td",19),e._uU(15),e.qZA()(),e.BQk()),2&n){const o=s.$implicit;e.xp6(3),e.lnq("",o.value.docente.nombre," ",o.value.docente.apellido_paterno," ",o.value.docente.apellido_materno,""),e.xp6(2),e.Oqu(o.value.informes.total_tutorados),e.xp6(2),e.Oqu(o.value.informes.total_primer_informe_terminados),e.xp6(2),e.Oqu(o.value.informes.total_segundo_informe_terminados),e.xp6(2),e.Oqu(o.value.informes.total_tercer_informe_terminados),e.xp6(2),e.Oqu(o.value.informes.total_informes_terminados),e.xp6(2),e.Oqu(o.value.informes.pendientes)}}function oe(n,s){if(1&n&&(e.TgZ(0,"div",15)(1,"table",16)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"Tutor"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Total Tutorados"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Primer Informe"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Segundo Informe"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Tercer Informe"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Total Informes Terminados"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Pendientes"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,ee,16,9,"ng-container",17),e.ALo(20,"keyvalue"),e.qZA()()()),2&n){const o=e.oxw();e.xp6(19),e.Q6J("ngForOf",e.lcZ(20,1,o.dataReportes))}}const ne=["myCanvas"];function ie(n,s){if(1&n&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&n){const o=s.$implicit;e.s9C("value",o.id),e.xp6(1),e.hij(" ",o.nombre," ")}}function re(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.generarReporte())}),e._uU(1," VER ASIGNACIONES "),e.qZA()}}function ae(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.downloadDivAsPDF())}),e._uU(1," DESCARGAR REPORTE "),e.qZA()}}function se(n,s){if(1&n&&(e.TgZ(0,"tr")(1,"td",23),e._uU(2),e.qZA(),e.TgZ(3,"td",23),e._uU(4),e.qZA(),e.TgZ(5,"td",23),e._uU(6),e.qZA(),e.TgZ(7,"td",24),e._uU(8),e.qZA(),e.TgZ(9,"td",24),e._uU(10),e.qZA(),e.TgZ(11,"td",24),e._uU(12),e.qZA()()),2&n){const o=s.$implicit;e.xp6(2),e.Oqu(o.nombre),e.xp6(2),e.hij(" ",o.apellido_paterno,""),e.xp6(2),e.hij(" ",o.apellido_materno,""),e.xp6(2),e.hij(" ",o.numero_checador,""),e.xp6(2),e.hij(" ",o.semestre,""),e.xp6(2),e.hij(" ",o.estatus_actual,"")}}function ce(n,s){if(1&n&&(e.TgZ(0,"table",18)(1,"thead")(2,"tr")(3,"th",19),e._uU(4),e.qZA(),e.TgZ(5,"th",20),e._uU(6,"LISTA DE TUTORADOS"),e.qZA()()(),e.TgZ(7,"tbody"),e.ynx(8),e.TgZ(9,"tr")(10,"td",21),e._uU(11,"NOMBRE"),e.qZA(),e.TgZ(12,"td",21),e._uU(13,"APELLIDO PATERNO"),e.qZA(),e.TgZ(14,"td",21),e._uU(15,"APELLIDO MATERNO"),e.qZA(),e.TgZ(16,"td",22),e._uU(17,"NUMERO DE CONTROL"),e.qZA(),e.TgZ(18,"td",22),e._uU(19,"SEMESTRE"),e.qZA(),e.TgZ(20,"td",22),e._uU(21,"ESTATUS"),e.qZA()(),e.YNc(22,se,13,6,"tr",16),e.BQk(),e.qZA()()),2&n){const o=e.oxw().$implicit;e.xp6(4),e.lnq("TUTOR: ",o.value.docente.nombre," ",o.value.docente.apellido_paterno," ",o.value.docente.apellido_materno," "),e.xp6(18),e.Q6J("ngForOf",o.value.tutorados)}}function le(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ce,23,4,"table",17),e.qZA()),2&n){const o=s.$implicit;e.xp6(1),e.Q6J("ngIf",o.value.tutorados.length>0)}}function de(n,s){if(1&n&&(e.TgZ(0,"div",15),e.YNc(1,le,2,1,"div",16),e.ALo(2,"keyvalue"),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,o.dataReportes))}}const ue=[{path:"",component:F,children:[{path:"ver-generaciones",component:J},{path:"reporte-mensual",component:(()=>{class n{constructor(o,t,i,a,r,d,u){this.router=o,this.fb=t,this.api=i,this.dialog=a,this.datosInformesService=r,this.elementRef=d,this.data_usuario=u,this.titulo=new e.vpe,this.loadSpinner=new e.vpe,this.mostrarPeriodos=!1,this.fechas_sesion_periodo=[],this.generaciones=[],this.carreras=[],this.fechas_asignadas=[],this.fechas_primera_sesion=[],this.fechas_segunda_sesion=[],this.fechas_tercera_sesion=[],this.fechaFormateada="",this.fechaFormateada2="",this.listaCarreras=[],this.nombreGeneracion="",this.fecha_inicio="",this.fecha_fin="",this.chart=[],this.chart2=[],this.chart3=[],this.chart4=[],this.chart5=[],this.chart6=[],this.lista_alumnos=[],this.lista_docentes=[],this.NombreperiodoSeleccionado="",this.NombregeneracionSeleccionado="",this.tutores_capacitados_year=0,this.tutores_capacitados_programa=0,this.tutores_capacitados_porcentaje=this.tutores_capacitados_year/this.tutores_capacitados_programa*100,this.periodo=[{nombre:"PRIMERO"},{nombre:"SEGUNDO"},{nombre:"TERCERO"},{nombre:"CUARTO"}],this.informes=[{nombre:"PRIMER INFORME",valor:"primer_informe"},{nombre:"SEGUNDO INFORME",valor:"segundo_informe"},{nombre:"TERCER INFORME",valor:"tercer_informe"}],this.uploadedFile=new File([],""),this.data_excel=[],this.id_carrera_coordinador=0,this.documentoDictamen="",this.formulario=this.fb.group({tutor:[1],periodo:[""],generacion:[""],informe:[""],carrera:[""]}),this.asignaciones=new Map,this.mostrar_btn_guardar=!1,this.asignaciones_objetos=[],this.data={codigo:0,mensaje:"",PRIMERO:{total_primer_informe_terminado:0,total_tutorados:0,pendientes:0,estatus:0},SEGUNDO:{total_segundo_informe_terminado:0,total_tutorados:0,pendientes:0,estatus:0},TERCERO:{total_tercer_informe_terminado:0,total_tutorados:0,pendientes:0,estatus:0},TOTAL_INFORMES_TERMINADOS:0,PENDIENTES_TOTALES:0,ESTATUS:0},this.dataReportes=[]}downloadDivAsPDF(){this.descargarPDF()}descargarPDF(){const i=(new Date).toLocaleDateString("es-ES",{day:"numeric",month:"numeric",year:"numeric"}),h=`InformeMensual-${this.formulario.controls.generacion.value}-${this.formulario.controls.periodo.value}-${this.formulario.controls.informe.value}-${i}`,g=document.querySelector(".tabla-reporte"),m=new R.ZP("p","mm","a4");S()(g,{scale:2}).then(p=>{const v=p.toDataURL("image/png");m.addImage(v,"PNG",0,0,210,50),m.save(h)})}renderChart(){this.chart=new O.ZP("grafica",{type:"bar",data:{labels:["Tutorados diagnostico inicial","Alumnos atendidos 3 o mas veces","Alumnos atendidos 2 veces","Alumnos atendidos 1 vez","Alumnos no atendidos"],datasets:[{label:"RESPUESTA AL PROGRAMA Diagnostico inicial y Asistencia.",data:[this.dataReporte.porcentaje_alumnos_con_diagnostico,this.dataReporte.porcentaje_alumnos_atendidos_3,this.dataReporte.porcentaje_alumnos_atendidos_2,this.dataReporte.porcentaje_alumnos_atendidos_1,this.dataReporte.porcentaje_alumnos_atendidos_0],backgroundColor:["rgba(75, 192, 192, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(75, 192, 192, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(153, 102, 255, 1)"],borderWidth:2}]},options:{scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{grid:{color:"rgba(255, 255, 255, 0.1)"}}}}}),this.chart2=new O.ZP("grafica2",{type:"bar",data:{labels:[`${this.dataReporte.porcentaje_total_matricula_carrera}%,\n          `],datasets:[{label:"Entrega de reportes y cobertura del programa",data:[this.dataReporte.porcentaje_total_matricula_carrera],backgroundColor:["rgba(75, 192, 192, 0.2)"],borderColor:["rgba(75, 192, 192, 1)"],borderWidth:2}]},options:{scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{grid:{color:"rgba(255, 255, 255, 0.1)"}}}}}),this.chart3=new O.ZP("grafica3",{type:"bar",data:{labels:["Alumnos atendidos de forma grupal","Alumnos atendidos de forma individual","Alumnos atendidos de forma ambas modalidades","Alumnos no atendidos por inasistencia"],datasets:[{label:"RESPUESTA AL PROGRAMA Diagnostico inicial y Asistencia.",data:[this.dataReporte.porcentaje_alumnos_atendidos_forma_grupal,this.dataReporte.porcentaje_alumnos_atendidos_forma_individual,this.dataReporte.porcentaje_alumnos_atendidos_forma_ambas,this.dataReporte.alumnos_atendidos_forma_inasistencia_porcentaje],backgroundColor:["rgba(75, 192, 192, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(75, 192, 192, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(153, 102, 255, 1)"],borderWidth:2}]},options:{scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{display:!0},title:{display:!0},tooltip:{callbacks:{label:function(o){return o.dataset.label+": "+o.parsed.y.toFixed(2)+"%"}}}}}}),this.chart4=new O.ZP("grafica4",{type:"bar",data:{labels:[`${this.dataReporte.porcentaje_tutores_carrera_asignados}%`],datasets:[{label:"INDICADORES DE PARTICIPACION",data:[this.dataReporte.porcentaje_tutores_carrera_asignados],backgroundColor:["rgba(75, 192, 192, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(75, 192, 192, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(153, 102, 255, 1)"],borderWidth:2}]},options:{scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{display:!0},title:{display:!0},tooltip:{callbacks:{label:function(o){return o.dataset.label+": "+o.parsed.y.toFixed(2)+"%"}}}}}}),this.chart5=new O.ZP("grafica5",{type:"bar",data:{labels:["Alumnos canalizados a psicologia","Alumnos canalizados a servicios academicos","Alumnos canalizados a becas","Alumnos canalizados a servicios de salud","Alumnos canalizados a instacias extras","Alumnos canalizados a otros servicios"],datasets:[{label:"RESPUESTA AL PROGRAMA Diagnostico inicial y Asistencia.",data:[this.dataReporte.porcentaje_alumnos_atendidos_piscologia,this.dataReporte.porcentaje_alumnos_atendidos_academica,this.dataReporte.porcentaje_alumnos_atendidos_becas,this.dataReporte.porcentaje_alumnos_atendidos_salud,this.dataReporte.porcentaje_alumnos_atendidos_instancias_extras,this.dataReporte.porcentaje_alumnos_atendidos_otros],backgroundColor:["rgba(75, 192, 192, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(75, 192, 192, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(153, 102, 255, 1)"],borderWidth:2}]},options:{scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{display:!0},title:{display:!0},tooltip:{callbacks:{label:function(o){return o.dataset.label+": "+o.parsed.y.toFixed(2)+"%"}}}}}})}loadExcelFile(){fetch("../../../../../assets/formato_reporte_semestral.xlsx").then(t=>t.arrayBuffer()).then(t=>{const i=new Uint8Array(t),a=_.ij(i,{type:"array"}),r=a.Sheets[a.SheetNames[0]];r.C2={t:"s",v:"Valor personalizado",s:{fill:{fgColor:{rgb:"FFFF00"}}}},_.P6.sheet_to_json(r);for(let p=11;p<69;p++)r["C"+(p+2)]={t:"s",v:`Valor personalizado ${p}`};const u=_.cW(a,{bookType:"xlsx",type:"array"}),h=new Blob([u],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),g=URL.createObjectURL(h),m=document.createElement("a");m.href=g,m.download="mi-archivo-editado.xlsx",m.click()})}downloadExcel(){const o=_.P6.book_new(),t=_.P6.json_to_sheet(this.data_excel);_.P6.book_append_sheet(o,t,"Hoja1");for(let u=11;u<69;u++)t[`C${u+2}`]={t:"s",v:`Valor personalizado ${u}`};const i=_.cW(o,{bookType:"xlsx",type:"array"}),a=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=URL.createObjectURL(a),d=document.createElement("a");d.href=r,d.download="mi-archivo-editado.xlsx",d.click()}openDialog(o){const t=new Date(this.fechaFormateada2),i=new Date(this.fecha_fin),a=new Date(this.fecha_inicio);if(t>i)return void c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"No puedes capturar el informe.",text:"El periodo de entrega de informes ya finalizo.",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1});if(t<a)return void c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"No puedes capturar el informe.",text:"El periodo de entrega aun no comienza.",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1});let r={id_generacion:this.formulario.controls.generacion.value,periodo:this.formulario.controls.periodo.value,informe:this.formulario.controls.informe.value,nombre_informe:""};if(1===this.data.ESTATUS){o.periodo="PRIMERO"===r.periodo?1:"SEGUNDO"===r.periodo?2:"TERCERO"===r.periodo?3:4;let m={id_alumno:o.id,id_tutor:this.formulario.controls.tutor.value,id_generacion:parseInt(this.formulario.controls.generacion.value?.toString()),periodo:o.periodo};this.loadSpinner.emit("true"),this.api.verificarAlumnoReporteSemestral(m).pipe((0,x.K)(p=>(this.loadSpinner.emit("false"),c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"Intentalo nuevamente.",text:" ",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1}),p))).subscribe(p=>{1===p.codigo?(this.loadSpinner.emit("false"),c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"No puedes capturar el informe.",text:`${p.mensaje}`,footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1})):setTimeout(()=>{this.loadSpinner.emit("false"),this.dialog.open(E.F,{width:"100%",disableClose:!1}),r.nombre_informe="INFORME SEMESTRAL",this.datosInformesService.setData(o,r)},1e3)})}"primer_informe"==this.formulario.controls.informe.value&&0===this.data.ESTATUS&&(this.dialog.open(T.i,{width:"100%",disableClose:!1}),r.nombre_informe="PRIMER INFORME",this.datosInformesService.setData(o,r)),"segundo_informe"==this.formulario.controls.informe.value&&0===this.data.ESTATUS&&(this.dialog.open(y.c,{width:"100%",disableClose:!1}),r.nombre_informe="SEGUNDO INFORME",this.datosInformesService.setData(o,r)),"tercer_informe"==this.formulario.controls.informe.value&&0===this.data.ESTATUS&&(this.dialog.open(y.c,{width:"100%",disableClose:!1}),r.nombre_informe="TERCER INFORME",this.datosInformesService.setData(o,r))}ngOnInit(){this.id_carrera_coordinador=parseInt(this.data_usuario.obteneridCarrera());const o=new Date,t={day:"numeric",month:"numeric",year:"numeric"};this.fechaFormateada=o.toLocaleDateString("es-ES",t);const i=o.getDate(),a=o.getMonth()+1,r=o.getFullYear();this.fechaFormateada2=`${r}-${a}-${i}`,this.fechaFormateada=o.toLocaleDateString("es-ES",t),console.log("Fecha actual: ",this.fechaFormateada),console.log("Fecha actual2: ",this.fechaFormateada2),this.titulo.emit("GENERAR REPORTE MENSUAL"),this.loadSpinner.emit("true"),this.api.obtenerCarreras().subscribe(d=>{this.listaCarreras=d.data,this.api.obtenerGeneraciones().subscribe(u=>{this.generaciones=u.data,this.loadSpinner.emit("false"),this.renderChart()})})}clickInforme(o){this.formulario.controls.informe.setValue("")}clickPeriodo(o){this.formulario.controls.periodo.setValue("")}clickGeneracion(o){this.formulario.controls.generacion.setValue("")}GeneracionSeleccionado(o){this.mostrarPeriodos=!1;const t=o.target.value;console.log("GENERACION seleccionado: ",t),this.formulario.controls.generacion.setValue(t)}periodoSeleccionada(o){this.mostrarPeriodos=!1,this.formulario.controls.periodo.setValue(o.target.value)}informeSeleccionado(o){this.mostrarPeriodos=!1,this.formulario.controls.informe.setValue(o.target.value)}carreraSeleccionada(o){this.mostrarPeriodos=!1,this.formulario.controls.carrera.setValue(o.target.value)}convertirMayusculas(o){o.setValue(o.value.toUpperCase())}convertirFecha(o){return new Date(o).toISOString().split("T")[0]}shuffleArray(o){for(let t=o.length-1;t>0;t--){const i=Math.floor(Math.random()*(t+1));[o[t],o[i]]=[o[i],o[t]]}return o}generarObjetosDocentesAlumnos(){for(const o of this.lista_docentes){const t=o.id,i=o.tutor_id,a=this.asignaciones.get(o)?.map(r=>r.id)||[];this.asignaciones_objetos.push({id_docente:t,id_alumnos:a,id_tutor:i,id_generacion:this.formulario.controls.generacion.value})}c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"\xbfEstas seguro de crear la asignacion?",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continuar",cancelButtonText:"Cancelar",showCancelButton:!0}).then(o=>{o.isConfirmed?(this.loadSpinner.emit("true"),console.log("Data a enviar: ",this.asignaciones_objetos),this.api.asignacionAlumnosTutorados(this.asignaciones_objetos).pipe((0,x.K)(t=>(this.loadSpinner.emit("false"),c().fire({icon:"error",iconColor:"rgb(128, 0, 0)",title:"Ocurrio un problema con la conexion.",text:"Intentalo nuevamente.",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,timer:2500}),setTimeout(()=>{window.location.reload()},3e3),t))).subscribe(t=>{this.loadSpinner.emit("false"),1===t.codigo&&(c().fire({icon:"success",iconColor:"rgb(128, 0, 0)",title:"Asignaciones almacenadas correctamente.",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,timer:2500}),setTimeout(()=>{window.location.reload()},3e3)),2===t.codigo&&(c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"NO se puede generar la asignacion.",text:`${t.mensaje}`,footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,timer:2500}),setTimeout(()=>{window.location.reload()},3e3))})):window.location.reload()}),console.log("OBJETOS DE IDS ASIGNADOS",this.asignaciones_objetos)}generarReporte(){let o={id_generacion:this.formulario.controls.generacion.value,id_periodo:this.formulario.controls.periodo.value,id_carrera:this.id_carrera_coordinador,id_informe:this.formulario.controls.informe.value,periodo:"PRIMERO"===this.formulario.controls.periodo.value?1:"SEGUNDO"===this.formulario.controls.periodo.value?2:"TERCERO"===this.formulario.controls.periodo.value?3:4};console.log("Data a enviar: ",o),""!=o.id_generacion&&""!=o.id_informe&&"SELECCIONA INFORME"!=o.id_informe&&""!=o.id_periodo&&"SELECCIONA PERIODO"!=o.id_periodo?(this.loadSpinner.emit("true"),this.api.geneRepMensCoordTut(o).pipe((0,x.K)(t=>(this.loadSpinner.emit("false"),c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"Intentalo nuevamente.",text:" ",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1}),t))).subscribe(t=>{this.loadSpinner.emit("false"),1===t.codigo&&(this.dataReportes=t.data,setTimeout(()=>{this.mostrarPeriodos=!0},500))})):c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"Faltan datos por seleccionar.",text:"Selecciona todos los campos.",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,timer:2500})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(C.F0),e.Y36(l.qu),e.Y36(A.s),e.Y36(Z.Vq),e.Y36(I.e),e.Y36(e.SBq),e.Y36(w.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-resporte-mensual"]],viewQuery:function(o,t){if(1&o&&e.Gf(K,5),2&o){let i;e.iGM(i=e.CRH())&&(t.canvasRef=i.first)}},outputs:{titulo:"titulo",loadSpinner:"loadSpinner"},decls:32,vars:7,consts:[[1,"contenedor-principal"],[1,"formulario-comisiones"],[1,"contenedor-form",3,"formGroup"],[1,"contenedores-form","contenedor-inputs"],[1,"form-floating",2,"margin","0px 10px 20px 10px"],["id","floatingSelect12",1,"form-select",3,"change"],["selected",""],[3,"value",4,"ngFor","ngForOf"],["for","floatingSelect12"],["class","btn btn-primary","style","padding: 10px",3,"click",4,"ngIf"],["class","btn btn-danger","style","padding: 10px",3,"click",4,"ngIf"],["class","container-tutorados","style","background-color: white",4,"ngIf"],[3,"value"],[1,"btn","btn-primary",2,"padding","10px",3,"click"],[1,"btn","btn-danger",2,"padding","10px",3,"click"],[1,"container-tutorados",2,"background-color","white"],[1,"tabla-reporte",2,"width","100%","border-collapse","collapse","border-spacing","0","box-shadow","0 4px 6px rgba(0, 0, 0, 0.1)"],[4,"ngFor","ngForOf"],[1,"class-td",2,"text-align","left !important"],[1,"class-td"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"select",5),e.NdJ("change",function(a){return t.GeneracionSeleccionado(a)}),e.TgZ(6,"option",6),e._uU(7,"SELECCIONA UNA GENERACION"),e.qZA(),e.YNc(8,$,2,2,"option",7),e.qZA(),e.TgZ(9,"label",8),e._uU(10,"SELECCIONA UNA GENERACION"),e.qZA()(),e._UZ(11,"br"),e.TgZ(12,"div",4)(13,"select",5),e.NdJ("change",function(a){return t.periodoSeleccionada(a)}),e.TgZ(14,"option",6),e._uU(15,"SELECCIONA PERIODO"),e.qZA(),e.YNc(16,Q,3,4,"option",7),e.qZA(),e.TgZ(17,"label",8),e._uU(18,"SELECCIONA PERIODO"),e.qZA()(),e._UZ(19,"br"),e.TgZ(20,"div",4)(21,"select",5),e.NdJ("change",function(a){return t.informeSeleccionado(a)}),e.TgZ(22,"option",6),e._uU(23,"SELECCIONA INFORME"),e.qZA(),e.YNc(24,H,3,4,"option",7),e.qZA(),e.TgZ(25,"label",8),e._uU(26,"SELECCIONA INFORME"),e.qZA()(),e._UZ(27,"br"),e.TgZ(28,"div",4),e.YNc(29,W,2,0,"button",9),e.YNc(30,X,2,0,"button",10),e.qZA()(),e.YNc(31,oe,21,3,"div",11),e.qZA()()()),2&o&&(e.xp6(2),e.Q6J("formGroup",t.formulario),e.xp6(6),e.Q6J("ngForOf",t.generaciones),e.xp6(8),e.Q6J("ngForOf",t.periodo),e.xp6(8),e.Q6J("ngForOf",t.informes),e.xp6(5),e.Q6J("ngIf",!t.mostrarPeriodos),e.xp6(1),e.Q6J("ngIf",t.mostrarPeriodos),e.xp6(1),e.Q6J("ngIf",t.mostrarPeriodos))},dependencies:[b.sg,b.O5,l._Y,l.YN,l.Kr,l.JL,l.sg,b.gd,b.Nd],styles:[".contenedor-img[_ngcontent-%COMP%]{border-radius:30px}.foto-edil-img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;box-shadow:2px 2px 5px #24c524}.foto-edil[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin-top:50px;margin-bottom:50px}.boton-flotante[_ngcontent-%COMP%]{position:relative;top:45px;left:80px;font-size:18px;font-weight:700;margin-right:10px}.boton-flotante-input[_ngcontent-%COMP%]{position:relative;top:0;left:80px;font-size:18px;font-weight:700;margin-right:10px}.boton-flotante[for=file-input][_ngcontent-%COMP%]{display:inline-block;background-color:#24c524;color:#fff;padding:6px 12px;cursor:pointer;font-weight:400;text-align:center;white-space:nowrap;border-radius:30px}.boton-flotante[_ngcontent-%COMP%]:hover{font-size:20px}.boton-flotante-pdf[for=file-input][_ngcontent-%COMP%]{display:inline-block;background-color:#24c524;color:#fff;padding:6px 12px;cursor:pointer;font-weight:400;text-align:center;white-space:nowrap;border-radius:30px}.contenido-reglamento[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.btn-ediles[_ngcontent-%COMP%]{width:250px;background-color:maroon;color:#fff;font-weight:700;border-radius:18px;font-size:17px;margin-left:10px}.btn-ediles[_ngcontent-%COMP%]:hover{background-color:#a84848}.container-input-flot[_ngcontent-%COMP%]{display:flex;flex-direction:row}.boton-flotante-input[_ngcontent-%COMP%]{position:relative;top:0;left:80px;font-size:15px;font-weight:700;margin-right:10px}.btn-input-flotante[_ngcontent-%COMP%]{background-color:#24c524;color:#fff;font-weight:700;font-size:15px;margin-left:10px}.btn-input-flotante[_ngcontent-%COMP%]:hover{background-color:#9b3939}.contenedor-botones[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;margin-top:100px;margin-bottom:20px;justify-content:center;align-items:center}.contenedor-navbar[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#fff;z-index:3}.contenedor-principal[_ngcontent-%COMP%]{width:100%;background-color:#fff}.formulario-comisiones[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.contenedor-fornm[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:start;flex-direction:column}.contenedores-form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:50px;margin-bottom:20px;flex-direction:row}.container-tutorados[_ngcontent-%COMP%]{height:850!important}.form-group-2[_ngcontent-%COMP%], .form-group-full[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;margin:20px}.inputs-box[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:row}.toolbar-modal[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.titulo-modal-sesiones[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin-bottom:60px}.container-modal[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.modal-reglamento[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:space-evenly;align-items:center;flex-direction:column}.ion-padding[_ngcontent-%COMP%]{margin-bottom:20px}.container-input-sesiones[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;flex-direction:column;margin-bottom:20px}.input-btn-agregar-sesion[_ngcontent-%COMP%]{margin-bottom:30px}.input-date-sesiones[_ngcontent-%COMP%]{width:100%;margin-top:5px}.input-documento-sesion[_ngcontent-%COMP%]{margin-bottom:50px}.label-verde[_ngcontent-%COMP%]{font-size:16px;color:maroon;font-weight:700;margin-bottom:2px;text-align:center;text-transform:uppercase}.titulo-sesiones[_ngcontent-%COMP%]{font-size:22px}.contenedor-titulo-principal[_ngcontent-%COMP%]{width:100%;margin-top:100px}.titulo-documentos[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.contenedor-fechas-principal[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:row}.contenedor-fechas-periodos[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.contenedores-pares[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:row;margin:30px 0}.form-floating[_ngcontent-%COMP%]{width:100%}.custom-row[_ngcontent-%COMP%]{border:1px solid #ccc;margin-bottom:10px;padding:10px}.custom-col[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px}.titulo-reporte-1[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;align-items:center;font-weight:700;font-size:x-large;margin:10px;color:#424242}.columnas-centradas[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;padding:0!important}.columnas-centradas-2[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;padding:0!important;align-items:center}.columnas-centradas-3[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;padding:0!important;align-items:center;flex-direction:column}.columnas-header-1[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;padding:20px!important;align-items:center;flex-direction:column}.columnas-start[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:start;padding:0!important}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0;box-shadow:0 4px 6px #0000001a}th[_ngcontent-%COMP%]{text-align:left;padding:12px;border-bottom:1px solid #ddd}.class-td[_ngcontent-%COMP%]{text-align:center;padding:12px;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333}tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}"]}),n})()},{path:"ver-asignaciones",component:(()=>{class n{constructor(o,t,i,a,r,d,u){this.router=o,this.fb=t,this.api=i,this.dialog=a,this.datosInformesService=r,this.elementRef=d,this.data_usuario=u,this.titulo=new e.vpe,this.loadSpinner=new e.vpe,this.mostrarPeriodos=!1,this.fechas_sesion_periodo=[],this.generaciones=[],this.carreras=[],this.fechas_asignadas=[],this.fechas_primera_sesion=[],this.fechas_segunda_sesion=[],this.fechas_tercera_sesion=[],this.fechaFormateada="",this.fechaFormateada2="",this.listaCarreras=[],this.nombreGeneracion="",this.fecha_inicio="",this.fecha_fin="",this.chart=[],this.chart2=[],this.chart3=[],this.chart4=[],this.chart5=[],this.chart6=[],this.lista_alumnos=[],this.lista_docentes=[],this.NombreperiodoSeleccionado="",this.NombregeneracionSeleccionado="",this.tutores_capacitados_year=0,this.tutores_capacitados_programa=0,this.tutores_capacitados_porcentaje=this.tutores_capacitados_year/this.tutores_capacitados_programa*100,this.periodo=[{nombre:"PRIMERO"},{nombre:"SEGUNDO"},{nombre:"TERCERO"},{nombre:"CUARTO"}],this.informes=[{nombre:"PRIMER INFORME",valor:"primer_informe"},{nombre:"SEGUNDO INFORME",valor:"segundo_informe"},{nombre:"TERCER INFORME",valor:"tercer_informe"}],this.uploadedFile=new File([],""),this.data_excel=[],this.id_carrera_coordinador=0,this.documentoDictamen="",this.formulario=this.fb.group({tutor:[1],periodo:[""],generacion:[""],informe:[""],carrera:[""]}),this.nombre_generacion="",this.asignaciones=new Map,this.mostrar_btn_guardar=!1,this.asignaciones_objetos=[],this.data={codigo:0,mensaje:"",PRIMERO:{total_primer_informe_terminado:0,total_tutorados:0,pendientes:0,estatus:0},SEGUNDO:{total_segundo_informe_terminado:0,total_tutorados:0,pendientes:0,estatus:0},TERCERO:{total_tercer_informe_terminado:0,total_tutorados:0,pendientes:0,estatus:0},TOTAL_INFORMES_TERMINADOS:0,PENDIENTES_TOTALES:0,ESTATUS:0},this.dataReportes=[]}downloadDivAsPDF(){this.descargarPDF()}descargarPDF(){const i=(new Date).toLocaleDateString("es-ES",{day:"numeric",month:"numeric",year:"numeric"}),h=`InformeMensual-${this.formulario.controls.generacion.value}-${this.formulario.controls.periodo.value}-${this.formulario.controls.informe.value}-${i}`,g=document.querySelector(".container-tutorados"),m=g.scrollHeight;console.log("Altura del contenido: ",m);const p=new R.ZP("p","px",[g.offsetWidth,m]);S()(g,{scale:1}).then(v=>{const me=v.toDataURL("image/png");p.addImage(me,"PNG",0,0,g.offsetWidth,m),p.save(h)})}loadExcelFile(){fetch("../../../../../assets/formato_reporte_semestral.xlsx").then(t=>t.arrayBuffer()).then(t=>{const i=new Uint8Array(t),a=_.ij(i,{type:"array"}),r=a.Sheets[a.SheetNames[0]];r.C2={t:"s",v:"Valor personalizado",s:{fill:{fgColor:{rgb:"FFFF00"}}}},_.P6.sheet_to_json(r);for(let p=11;p<69;p++)r["C"+(p+2)]={t:"s",v:`Valor personalizado ${p}`};const u=_.cW(a,{bookType:"xlsx",type:"array"}),h=new Blob([u],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),g=URL.createObjectURL(h),m=document.createElement("a");m.href=g,m.download="mi-archivo-editado.xlsx",m.click()})}downloadExcel(){const o=_.P6.book_new(),t=_.P6.json_to_sheet(this.data_excel);_.P6.book_append_sheet(o,t,"Hoja1");for(let u=11;u<69;u++)t[`C${u+2}`]={t:"s",v:`Valor personalizado ${u}`};const i=_.cW(o,{bookType:"xlsx",type:"array"}),a=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=URL.createObjectURL(a),d=document.createElement("a");d.href=r,d.download="mi-archivo-editado.xlsx",d.click()}openDialog(o){const t=new Date(this.fechaFormateada2),i=new Date(this.fecha_fin),a=new Date(this.fecha_inicio);if(t>i)return void c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"No puedes capturar el informe.",text:"El periodo de entrega de informes ya finalizo.",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1});if(t<a)return void c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"No puedes capturar el informe.",text:"El periodo de entrega aun no comienza.",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1});let r={id_generacion:this.formulario.controls.generacion.value,periodo:this.formulario.controls.periodo.value,informe:this.formulario.controls.informe.value,nombre_informe:""};if(1===this.data.ESTATUS){o.periodo="PRIMERO"===r.periodo?1:"SEGUNDO"===r.periodo?2:"TERCERO"===r.periodo?3:4;let m={id_alumno:o.id,id_tutor:this.formulario.controls.tutor.value,id_generacion:parseInt(this.formulario.controls.generacion.value?.toString()),periodo:o.periodo};this.loadSpinner.emit("true"),this.api.verificarAlumnoReporteSemestral(m).pipe((0,x.K)(p=>(this.loadSpinner.emit("false"),c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"Intentalo nuevamente.",text:" ",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1}),p))).subscribe(p=>{1===p.codigo?(this.loadSpinner.emit("false"),c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"No puedes capturar el informe.",text:`${p.mensaje}`,footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1})):setTimeout(()=>{this.loadSpinner.emit("false"),this.dialog.open(E.F,{width:"100%",disableClose:!1}),r.nombre_informe="INFORME SEMESTRAL",this.datosInformesService.setData(o,r)},1e3)})}"primer_informe"==this.formulario.controls.informe.value&&0===this.data.ESTATUS&&(this.dialog.open(T.i,{width:"100%",disableClose:!1}),r.nombre_informe="PRIMER INFORME",this.datosInformesService.setData(o,r)),"segundo_informe"==this.formulario.controls.informe.value&&0===this.data.ESTATUS&&(this.dialog.open(y.c,{width:"100%",disableClose:!1}),r.nombre_informe="SEGUNDO INFORME",this.datosInformesService.setData(o,r)),"tercer_informe"==this.formulario.controls.informe.value&&0===this.data.ESTATUS&&(this.dialog.open(y.c,{width:"100%",disableClose:!1}),r.nombre_informe="TERCER INFORME",this.datosInformesService.setData(o,r))}ngOnInit(){this.id_carrera_coordinador=parseInt(this.data_usuario.obteneridCarrera());const o=new Date,t={day:"numeric",month:"numeric",year:"numeric"};this.fechaFormateada=o.toLocaleDateString("es-ES",t);const i=o.getDate(),a=o.getMonth()+1,r=o.getFullYear();this.fechaFormateada2=`${r}-${a}-${i}`,this.fechaFormateada=o.toLocaleDateString("es-ES",t),console.log("Fecha actual: ",this.fechaFormateada),console.log("Fecha actual2: ",this.fechaFormateada2),this.titulo.emit("VER ASIGNACIONES DE TUTORES"),this.loadSpinner.emit("true"),this.api.obtenerCarreras().subscribe(d=>{this.listaCarreras=d.data,this.api.obtenerGeneraciones().subscribe(u=>{this.generaciones=u.data,this.loadSpinner.emit("false")})})}clickInforme(o){this.formulario.controls.informe.setValue("")}clickPeriodo(o){this.formulario.controls.periodo.setValue("")}clickGeneracion(o){this.formulario.controls.generacion.setValue("")}GeneracionSeleccionado(o){this.mostrarPeriodos=!1;const t=o.target.value;console.log("GENERACION seleccionado: ",t),this.formulario.controls.generacion.setValue(t),this.nombre_generacion=this.generaciones.filter(i=>i.id==t)}periodoSeleccionada(o){this.mostrarPeriodos=!1,this.formulario.controls.periodo.setValue(o.target.value)}informeSeleccionado(o){this.mostrarPeriodos=!1,this.formulario.controls.informe.setValue(o.target.value)}carreraSeleccionada(o){this.mostrarPeriodos=!1,this.formulario.controls.carrera.setValue(o.target.value)}convertirMayusculas(o){o.setValue(o.value.toUpperCase())}convertirFecha(o){return new Date(o).toISOString().split("T")[0]}shuffleArray(o){for(let t=o.length-1;t>0;t--){const i=Math.floor(Math.random()*(t+1));[o[t],o[i]]=[o[i],o[t]]}return o}generarObjetosDocentesAlumnos(){for(const o of this.lista_docentes){const t=o.id,i=o.tutor_id,a=this.asignaciones.get(o)?.map(r=>r.id)||[];this.asignaciones_objetos.push({id_docente:t,id_alumnos:a,id_tutor:i,id_generacion:this.formulario.controls.generacion.value})}c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"\xbfEstas seguro de crear la asignacion?",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continuar",cancelButtonText:"Cancelar",showCancelButton:!0}).then(o=>{o.isConfirmed?(this.loadSpinner.emit("true"),console.log("Data a enviar: ",this.asignaciones_objetos),this.api.asignacionAlumnosTutorados(this.asignaciones_objetos).pipe((0,x.K)(t=>(this.loadSpinner.emit("false"),c().fire({icon:"error",iconColor:"rgb(128, 0, 0)",title:"Ocurrio un problema con la conexion.",text:"Intentalo nuevamente.",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,timer:2500}),setTimeout(()=>{window.location.reload()},3e3),t))).subscribe(t=>{this.loadSpinner.emit("false"),1===t.codigo&&(c().fire({icon:"success",iconColor:"rgb(128, 0, 0)",title:"Asignaciones almacenadas correctamente.",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,timer:2500}),setTimeout(()=>{window.location.reload()},3e3)),2===t.codigo&&(c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"NO se puede generar la asignacion.",text:`${t.mensaje}`,footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,timer:2500}),setTimeout(()=>{window.location.reload()},3e3))})):window.location.reload()}),console.log("OBJETOS DE IDS ASIGNADOS",this.asignaciones_objetos)}generarReporte(){let o={id_generacion:this.formulario.controls.generacion.value,id_periodo:this.formulario.controls.periodo.value,id_carrera:this.id_carrera_coordinador,id_informe:this.formulario.controls.informe.value,periodo:"PRIMERO"===this.formulario.controls.periodo.value?1:"SEGUNDO"===this.formulario.controls.periodo.value?2:"TERCERO"===this.formulario.controls.periodo.value?3:4};console.log("Data a enviar: ",o),""!=o.id_generacion&&"SELECCIONA UNA GENERACION"!=o.id_generacion?(this.loadSpinner.emit("true"),this.api.verAsignaciones(o).pipe((0,x.K)(t=>(this.loadSpinner.emit("false"),c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"Intentalo nuevamente.",text:" ",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1}),t))).subscribe(t=>{this.loadSpinner.emit("false"),1===t.codigo&&(this.dataReportes=t.data,setTimeout(()=>{this.mostrarPeriodos=!0},500))})):c().fire({icon:"info",iconColor:"rgb(128, 0, 0)",title:"Faltan datos por seleccionar.",text:"Selecciona la generacion porfavor.",footer:"",heightAuto:!1,confirmButtonColor:"rgb(128, 0, 0)",allowOutsideClick:!1,allowEscapeKey:!1,timer:2500})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(C.F0),e.Y36(l.qu),e.Y36(A.s),e.Y36(Z.Vq),e.Y36(I.e),e.Y36(e.SBq),e.Y36(w.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ver-asignaciones"]],viewQuery:function(o,t){if(1&o&&e.Gf(ne,5),2&o){let i;e.iGM(i=e.CRH())&&(t.canvasRef=i.first)}},outputs:{titulo:"titulo",loadSpinner:"loadSpinner"},decls:16,vars:5,consts:[[1,"contenedor-principal"],[1,"formulario-comisiones"],[1,"contenedor-form",3,"formGroup"],[1,"contenedores-form","contenedor-inputs"],[1,"form-floating",2,"margin","0px 10px 20px 10px"],["id","floatingSelect12",1,"form-select",3,"change"],["selected",""],[3,"value",4,"ngFor","ngForOf"],["for","floatingSelect12"],["class","btn btn-primary","style","padding: 15px",3,"click",4,"ngIf"],["class","btn btn-danger","style","padding: 10px",3,"click",4,"ngIf"],["class","container-tutorados","style","background-color: white; margin-bottom: 30px;",4,"ngIf"],[3,"value"],[1,"btn","btn-primary",2,"padding","15px",3,"click"],[1,"btn","btn-danger",2,"padding","10px",3,"click"],[1,"container-tutorados",2,"background-color","white","margin-bottom","30px"],[4,"ngFor","ngForOf"],["class","tabla-reporte","style","margin-bottom: 50px; width: 100%; border-collapse: collapse; border-spacing: 0; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);",4,"ngIf"],[1,"tabla-reporte",2,"margin-bottom","50px","width","100%","border-collapse","collapse","border-spacing","0","box-shadow","0 4px 6px rgba(0, 0, 0, 0.1)"],["colspan","2",1,"class-td",2,"color","brown"],["colspan","10",1,"class-td"],[1,"class-td",2,"font-weight","bold","text-align","left !important"],[1,"class-td",2,"font-weight","bold"],[1,"class-td",2,"text-align","left !important"],[1,"class-td"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"select",5),e.NdJ("change",function(a){return t.GeneracionSeleccionado(a)}),e.TgZ(6,"option",6),e._uU(7,"SELECCIONA UNA GENERACION"),e.qZA(),e.YNc(8,ie,2,2,"option",7),e.qZA(),e.TgZ(9,"label",8),e._uU(10,"SELECCIONA UNA GENERACION"),e.qZA()(),e._UZ(11,"br"),e.TgZ(12,"div",4),e.YNc(13,re,2,0,"button",9),e.YNc(14,ae,2,0,"button",10),e.qZA()(),e.YNc(15,de,3,3,"div",11),e.qZA()()()),2&o&&(e.xp6(2),e.Q6J("formGroup",t.formulario),e.xp6(6),e.Q6J("ngForOf",t.generaciones),e.xp6(5),e.Q6J("ngIf",!t.mostrarPeriodos),e.xp6(1),e.Q6J("ngIf",t.mostrarPeriodos),e.xp6(1),e.Q6J("ngIf",t.mostrarPeriodos))},dependencies:[b.sg,b.O5,l._Y,l.YN,l.Kr,l.JL,l.sg,b.Nd],styles:[".contenedor-img[_ngcontent-%COMP%]{border-radius:30px}.foto-edil-img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;box-shadow:2px 2px 5px #24c524}.foto-edil[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin-top:50px;margin-bottom:50px}.boton-flotante[_ngcontent-%COMP%]{position:relative;top:45px;left:80px;font-size:18px;font-weight:700;margin-right:10px}.boton-flotante-input[_ngcontent-%COMP%]{position:relative;top:0;left:80px;font-size:18px;font-weight:700;margin-right:10px}.boton-flotante[for=file-input][_ngcontent-%COMP%]{display:inline-block;background-color:#24c524;color:#fff;padding:6px 12px;cursor:pointer;font-weight:400;text-align:center;white-space:nowrap;border-radius:30px}.boton-flotante[_ngcontent-%COMP%]:hover{font-size:20px}.boton-flotante-pdf[for=file-input][_ngcontent-%COMP%]{display:inline-block;background-color:#24c524;color:#fff;padding:6px 12px;cursor:pointer;font-weight:400;text-align:center;white-space:nowrap;border-radius:30px}.contenido-reglamento[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.btn-ediles[_ngcontent-%COMP%]{width:250px;background-color:maroon;color:#fff;font-weight:700;border-radius:18px;font-size:17px;margin-left:10px}.btn-ediles[_ngcontent-%COMP%]:hover{background-color:#a84848}.container-input-flot[_ngcontent-%COMP%]{display:flex;flex-direction:row}.boton-flotante-input[_ngcontent-%COMP%]{position:relative;top:0;left:80px;font-size:15px;font-weight:700;margin-right:10px}.btn-input-flotante[_ngcontent-%COMP%]{background-color:#24c524;color:#fff;font-weight:700;font-size:15px;margin-left:10px}.btn-input-flotante[_ngcontent-%COMP%]:hover{background-color:#9b3939}.contenedor-botones[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;margin-top:100px;margin-bottom:20px;justify-content:center;align-items:center}.contenedor-navbar[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#fff;z-index:3}.contenedor-principal[_ngcontent-%COMP%]{width:100%;background-color:#fff}.formulario-comisiones[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.contenedor-fornm[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:start;flex-direction:column}.contenedores-form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:50px;margin-bottom:20px;flex-direction:row}.container-tutorados[_ngcontent-%COMP%]{height:850!important}.form-group-2[_ngcontent-%COMP%], .form-group-full[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;margin:20px}.inputs-box[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:row}.toolbar-modal[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.titulo-modal-sesiones[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin-bottom:60px}.container-modal[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.modal-reglamento[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:space-evenly;align-items:center;flex-direction:column}.ion-padding[_ngcontent-%COMP%]{margin-bottom:20px}.container-input-sesiones[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;flex-direction:column;margin-bottom:20px}.input-btn-agregar-sesion[_ngcontent-%COMP%]{margin-bottom:30px}.input-date-sesiones[_ngcontent-%COMP%]{width:100%;margin-top:5px}.input-documento-sesion[_ngcontent-%COMP%]{margin-bottom:50px}.label-verde[_ngcontent-%COMP%]{font-size:16px;color:maroon;font-weight:700;margin-bottom:2px;text-align:center;text-transform:uppercase}.titulo-sesiones[_ngcontent-%COMP%]{font-size:22px}.contenedor-titulo-principal[_ngcontent-%COMP%]{width:100%;margin-top:100px}.titulo-documentos[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.contenedor-fechas-principal[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:row}.contenedor-fechas-periodos[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.contenedores-pares[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:row;margin:30px 0}.form-floating[_ngcontent-%COMP%]{width:100%}.custom-row[_ngcontent-%COMP%]{border:1px solid #ccc;margin-bottom:10px;padding:10px}.custom-col[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px}.titulo-reporte-1[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;align-items:center;font-weight:700;font-size:x-large;margin:10px;color:#424242}.columnas-centradas[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;padding:0!important}.columnas-centradas-2[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;padding:0!important;align-items:center}.columnas-centradas-3[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;padding:0!important;align-items:center;flex-direction:column}.columnas-header-1[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;padding:20px!important;align-items:center;flex-direction:column}.columnas-start[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:start;padding:0!important}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0;box-shadow:0 4px 6px #0000001a}th[_ngcontent-%COMP%]{text-align:left;padding:12px;border-bottom:1px solid #ddd}.class-td[_ngcontent-%COMP%]{text-align:center;padding:12px;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333}tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}"]}),n})()},{path:"ver-avisos",component:(()=>{class n{constructor(o,t){this.formBuilder=o,this.api=t,this.loadSpinner=new e.vpe,this.titulo=new e.vpe,this.formulario=this.formBuilder.group({titulo:[""],contenido:[""],fecha:[""],imagen_1:[""],imagen_2:[""],imagen_3:[""],url_1:[""],url_2:[""],url_3:[""],mostrar:[!1]})}ngOnInit(){console.log("AvisosComponent"),this.titulo.emit("CREAR AVISOS")}guardar(){let o={titulo:this.formulario.value.titulo,contenido:this.formulario.value.contenido,fecha:this.formulario.value.fecha,imagen_1:this.formulario.value.imagen_1,imagen_2:this.formulario.value.imagen_2,imagen_3:this.formulario.value.imagen_3,url_1:this.formulario.value.url_1,url_2:this.formulario.value.url_2,url_3:this.formulario.value.url_3,mostrar:this.formulario.value.mostrar};return""==o.titulo||""==o.contenido?(c().fire({icon:"info",title:"Campos vacios, no se puede guardar",text:"El titulo y contenido son obligatorios",heightAuto:!1,confirmButtonText:"Aceptar",iconColor:"rgba(176, 60, 60, 0.944)",confirmButtonColor:"rgba(176, 60, 60, 0.944)",footer:""}),!1):(c().fire({icon:"question",title:"\xbfDeseas crear un nuevo aviso?",text:"Se sustituira el anterior",heightAuto:!1,confirmButtonText:"Aceptar",iconColor:"rgba(176, 60, 60, 0.944)",confirmButtonColor:"rgba(176, 60, 60, 0.944)",footer:"",showCancelButton:!0,cancelButtonText:"Cancelar",cancelButtonColor:"rgb(128, 0, 0)"}).then(t=>{t.isConfirmed?(this.loadSpinner.emit("true"),this.api.crearAviso(o).pipe((0,x.K)(i=>(this.loadSpinner.emit("false"),c().fire({icon:"error",title:"Error al crear el aviso",text:i.error.mensaje,heightAuto:!1,confirmButtonText:"Aceptar",iconColor:"rgb(128, 0, 0)",confirmButtonColor:"rgb(128, 0, 0)",footer:""}),setTimeout(()=>{window.location.reload()},2500),i))).subscribe(i=>{this.loadSpinner.emit("false"),1===i.codigo&&(c().fire({icon:"success",title:"Aviso creado correctamente",text:"",heightAuto:!1,confirmButtonText:"Aceptar",iconColor:"rgb(128, 0, 0)",confirmButtonColor:"rgb(128, 0, 0)",footer:""}),setTimeout(()=>{window.location.reload()},2500)),2===i.codigo&&(c().fire({icon:"info",title:i.mensaje,text:"",heightAuto:!1,confirmButtonText:"Aceptar",iconColor:"rgb(128, 0, 0)",confirmButtonColor:"rgb(128, 0, 0)",footer:""}),setTimeout(()=>{window.location.reload()},2500))})):this.loadSpinner.emit("false")}),!0)}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(l.qu),e.Y36(A.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-avisos"]],outputs:{loadSpinner:"loadSpinner",titulo:"titulo"},decls:13,vars:1,consts:[[1,"formulario-container"],[3,"formGroup","ngSubmit"],["for","titulo"],["type","text","id","titulo","formControlName","titulo"],["for","contenido"],["id","contenido","formControlName","contenido"],["for","url_1"],["type","url","id","url_1","formControlName","url_1"],["type","submit",2,"background-color","rgba(176, 60, 60, 0.944)","color","white"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return t.guardar()}),e.TgZ(2,"label",2),e._uU(3,"T\xedtulo:"),e.qZA(),e._UZ(4,"input",3),e.TgZ(5,"label",4),e._uU(6,"Contenido:"),e.qZA(),e._UZ(7,"textarea",5),e.TgZ(8,"label",6),e._uU(9,"URL 1:"),e.qZA(),e._UZ(10,"input",7),e.TgZ(11,"button",8),e._uU(12,"Guardar"),e.qZA()()()),2&o&&(e.xp6(1),e.Q6J("formGroup",t.formulario))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".formulario-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}form[_ngcontent-%COMP%]{width:600px;max-width:600px;margin:100px auto 0;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9;box-shadow:0 0 10px #0000001a;display:flex;justify-content:center;align-items:center;flex-direction:column}label[_ngcontent-%COMP%]{display:block;margin-top:10px;font-weight:700}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=url][_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:3px;font-size:16px}.image-upload[_ngcontent-%COMP%]{margin-top:10px}button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;margin-top:15px;background-color:#007bff;color:#fff;border:none;border-radius:3px;font-size:18px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),n})()},{path:"**",redirectTo:"ver-generaciones"}]}];let fe=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[C.Bz.forChild(ue),C.Bz]}),n})();var pe=f(5031);let ge=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[b.ez,fe,pe.q,l.UX,l.u5]}),n})()}}]);